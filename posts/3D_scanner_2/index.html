<!DOCTYPE html><html lang="ko" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="[3D scanner] 3D scanner 제작기 - 2" /><meta property="og:locale" content="ko" /><meta name="description" content="관련 포스팅 [3D scanner] 3D scanner 제작기 - 1" /><meta property="og:description" content="관련 포스팅 [3D scanner] 3D scanner 제작기 - 1" /><link rel="canonical" href="https://isornorphism.github.io/posts/3D_scanner_2/" /><meta property="og:url" content="https://isornorphism.github.io/posts/3D_scanner_2/" /><meta property="og:site_name" content="Isomorphism!" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-04-08T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[3D scanner] 3D scanner 제작기 - 2" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-04-08T00:00:00+09:00","datePublished":"2023-04-08T00:00:00+09:00","description":"관련 포스팅 [3D scanner] 3D scanner 제작기 - 1","headline":"[3D scanner] 3D scanner 제작기 - 2","mainEntityOfPage":{"@type":"WebPage","@id":"https://isornorphism.github.io/posts/3D_scanner_2/"},"url":"https://isornorphism.github.io/posts/3D_scanner_2/"}</script><title>[3D scanner] 3D scanner 제작기 - 2 | Isomorphism!</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Isomorphism!"><meta name="application-name" content="Isomorphism!"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/profile.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Isomorphism!</a></div><div class="site-subtitle" style="letter-spacing: -0.02em;">다채로운 vectorspace를 span할 수 있도록<br> orthogonal basis를 만드는 곳입니다.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/CV/" class="nav-link"> <i class="fa-fw fas fa-file ml-xl-3 mr-xl-3 unloaded"></i> <span>CV</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/Isornorphism" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['sgheong','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>[3D scanner] 3D scanner 제작기 - 2</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[3D scanner] 3D scanner 제작기 - 2</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/Isornorphism">Gwanhyeong Song</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2023-04-08 00:00:00 +0900" data-toggle="tooltip" data-placement="bottom" title="Sat, Apr 8, 2023, 12:00 AM +0900" >Apr 8</em> </span> <span> Updated <em class="timeago" date="2023-04-08" data-toggle="tooltip" data-placement="bottom" title="Sat, Apr 8, 2023, 12:00 AM +0000" >Apr 8</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2410 words"> <em>13 min</em> read</span></div></div></div><div class="post-content"><blockquote><p><em>관련 포스팅</em></p><ul><li><a href="https://isornorphism.github.io/posts/3D_scanner_1/">[3D scanner] 3D scanner 제작기 - 1</a></ul></blockquote><p><br /></p><h2 id="3-전자-회로-제작-과정">3. 전자 회로 제작 과정 <a href="#3-전자-회로-제작-과정" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="31-개발-보드-선택">3.1 개발 보드 선택 <a href="#31-개발-보드-선택" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><div class="table-wrapper"><table><thead><tr><th>구분<th>Arduino UNO<th>Raspberry Pi 4<tbody><tr><td>언어<td>C++<td>Python<tr><td>멀티태스킹<td>X<td>O<tr><td>입출력 전압<td>0~5V<td>0~3.3V<tr><td>ADC<td>O(A0~A5 핀)<td>X<tr><td>리소스<td>부족<td>충분</table></div><ul><li>라즈베리파이의 경우 0~3.3V 범위의 GPIO를 사용하기 때문에 5V 전압에 맞춰져있는 디바이스를 사용할 시 변환 작업이 필요합니다.<li>라즈베리파이에는 내장 ADC(Analog to Digital Converter)가 없기 때문에 아날로그 센서를 사용할 때 별도의 ADC 회로를 구축해 주어야 합니다.<li>아두이노에서 사용할 수 있는 SRAM은 2048bytes로 개발 시 리소스가 부족할 우려가 있습니다.<li>본 프로젝트의 경우 모든 동작이 순차적으로 수행되는 상황이 많아, 멀티쓰레드를 사용하지 않고도 어렵지 않게 구현할 수 있을 것으로 예상하였습니다. 또한 SD 카드라는 별도의 저장 장치에 pointcloud를 저장할 예정이므로, 리소스 부족 문제도 해결할 수 있을 것으로 생각하였습니다. 이에 본 3D scanner에서는 회로를 단순화하기 용이한 아두이노 UNO를 개발 보드로 선정하였습니다.<li>VScode에 아두이노 extension을 설치하여 개발 환경을 구축하였습니다.</ul><p><br /></p><h3 id="32-ir-거리-센서-거리-전압-관계-fitting">3.2 IR 거리 센서 거리-전압 관계 fitting <a href="#32-ir-거리-센서-거리-전압-관계-fitting" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p><img data-src="/assets/img/3D_scanner/Fig_15.PNG" alt="Distance_voltage_relation" width="70%" data-proofer-ignore> <em>GP2Y0A21YK0F distance-voltage relation</em></p><p>본 프로젝트에서는 Sharp 사의 GP2Y0A21YK0F IR 거리 센서를 사용하였습니다. 데이터 시트를 참고하여 유효한 범위(L &gt; 50mm)에서 거리-전압 관계를 log-log fitting하여 다음과 같은 관계식을 얻었습니다.</p>\[L=299.88 \cdot V^{-1.173}\]<p><br /></p><h3 id="33-모터-드라이버-및-스텝-모터-선택">3.3 모터 드라이버 및 스텝 모터 선택 <a href="#33-모터-드라이버-및-스텝-모터-선택" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p><em>Comparison between L298n and A4988 motor driver</em></p><div class="table-wrapper"><table><thead><tr><th>구분<th>L298n<th>A4988<tbody><tr><td>배선<td>단순<td>복잡<tr><td>제어핀<td>4개<td>2개<tr><td>진동&amp;소음<td>큼<td>작음<tr><td>비고<td>-<td>분주 조절 가능</table></div><p><em>Comparison between applied motion 4017-875 and 42shdc3025-24b stepper motor</em></p><div class="table-wrapper"><table><thead><tr><th>구분<th>Applied motion 4017-875<th>42shdc3025-24b<tbody><tr><td>Rated voltage<td>3.5V<td>3.96V<tr><td>Rated current<td>0.35A<td>0.9A</table></div><ul><li>Rotating plate를 5t 아크릴 원판으로 제작하였기 때문에 회전 관성 모멘트가 굉장히 큽니다. 이로 인해 θ-방향으로 plate를 회전할 시 많은 토크가 요구되어, 대부분의 스텝 모터에서 탈조 현상이 발생해버렸습니다.<li>시행착오를 거친 결과, 소비 전력이 큰 42shdc3025-24b 스텝 모터와 분주 조절이 가능한 A4988을 조합하고, A4988을 16분주로 설정하여 rotating plate를 작동시킬 수 있었습니다.<li>z-방향 이동에 사용하는 리드 스크류 회전에는 큰 토크가 요구되지 않으므로, 상대적으로 배선이 단순한 L298n 모터 드라이버와 남은 스텝 모터(4017-875)를 사용하였습니다.</ul><p><br /></p><h3 id="34-sd-card-reader-자작">3.4 SD card reader 자작 <a href="#34-sd-card-reader-자작" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>원래는 PC와 시리얼 통신으로 바로 pointcloud 정보를 전송하려고 했으나, 계획을 변경하여 SD 카드를 사용하기로 하였습니다. 인터넷을 뒤져보니 나름 구조가 단순한거 같아 직접 자작해보기로 하였습니다. SD 카드 리더는 아래의 글을 참고하여 제작하였습니다.</p><blockquote><p><em>참고 자료</em></p><ul><li><a href="https://www.instructables.com/Cheap-Arduino-SD-Card-Reader/">Cheap Arduino SD Card Reader</a></ul></blockquote><p><img data-src="/assets/img/3D_scanner/Fig_17.jpg" alt="DIY_SD_card_reader" width="50%" data-proofer-ignore> <em>DIY SD card reader</em></p><ul><li>SD 카드 어댑터에 핀헤더를 납땜하여 회로를 구성하고 마이크로 SD 카드를 삽입하여 데이터를 읽고 씁니다.<li>SD 카드 리더는 SPI 통신에 사용되는 4개의 핀(CS, MOSI, MISO, SCK)과 3.3V, GND 총 6개의 핀으로 구성되어 있습니다. 핀맵에 맞추어 연결해줍니다.<li>SD 카드는 3.3V 입출력을 사용하므로 voltage divider 회로를 사용하여 아두이노의 5V 입출력 신호를 3.3V에 맞춰 변환해줍니다. (저는 1kohm 저항과 470ohm 저항을 사용하였습니다.)<li>이렇게 만든 DIY SD card reader는 매우 잘 동작했지만, 이후 순간접착제로 붙이는 과정에서 SD 카드 인식부가 녹아 합선이 발생하였습니다. 결국 급하게 SD card reader를 인터넷에서 구입하여 사용하였습니다. (2500원밖에 안합니다. 그냥 살걸…)</ul><p><br /></p><h3 id="35-아두이노-proto-shield-회로-설계-및-납땜">3.5 아두이노 proto-shield 회로 설계 및 납땜 <a href="#35-아두이노-proto-shield-회로-설계-및-납땜" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p><img data-src="/assets/img/3D_scanner/Fig_16.jpg" alt="Prototype_circuit" width="80%" data-proofer-ignore> <em>Prototype circuit</em></p><p>그림처럼 브레드보드에 모든 디바이스를 연결하고 실험해보았습니다. 잘 되는걸 확인한 다음 바로 납땜을 시작하였습니다.</p><p><img data-src="/assets/img/3D_scanner/Fig_18_a.jpg" alt="Circuit_design_front" width="80%" data-proofer-ignore> <em>Proto-shield circuit design (front)</em></p><p><img data-src="/assets/img/3D_scanner/Fig_18_b.jpg" alt="Circuit_design_back" width="80%" data-proofer-ignore> <em>Proto-shield circuit design (back)</em></p><p><img data-src="/assets/img/3D_scanner/Fig_19_a.jpg" alt="Proto_shield_front" width="80%" data-proofer-ignore> <em>Proto-shield circuit result (front)</em></p><p><img data-src="/assets/img/3D_scanner/Fig_19_b.jpg" alt="Proto_shield_back" width="80%" data-proofer-ignore> <em>Proto-shield circuit result (back)</em></p><p>아두이노 보드 위에 장착할 수 있는 특수한 기능의 회로를 shield라고 합니다. 그중에는 사용자가 직접 회로를 납땜하여 꾸밀 수 있는 proto-shield라는 것이 있습니다. 저는 proto-shield에 3D scanner 시스템을 납땜하여 사용하였습니다.</p><ul><li>F/F 점퍼선의 한쪽 끝을 몰렉스 커넥터로 바꾼 케이블을 사용하여 디바이스와 proto-shield 사이 체결을 용이하게 하였습니다. 이를 위해 proto-shield에는 다양한 몰렉스 커넥터를 납땜하여 아두이노 입출력 핀과 연결해주었습니다.<li>A4988 모터 드라이버는 proto-shield 중앙에 핀헤더를 납땜한 후 연결하였습니다.</ul><p><br /></p><h3 id="36-회로-케이스-설계-및-제작">3.6 회로 케이스 설계 및 제작 <a href="#36-회로-케이스-설계-및-제작" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p><img data-src="/assets/img/3D_scanner/Fig_20_a.JPG" alt="Circuit_case_modeling_a" width="80%" data-proofer-ignore> <em>Circuit case modeling plan</em></p><p><img data-src="/assets/img/3D_scanner/Fig_20_b.JPG" alt="Circuit_case_modeling_b" width="80%" data-proofer-ignore> <em>Circuit case modeling floor plan</em></p><p><img data-src="/assets/img/3D_scanner/Fig_21.jpg" alt="Circuit_case_assembly" width="80%" data-proofer-ignore> <em>Circuit case assembly</em></p><p>그림과 같이 3D scanner에 들어가는 전자 부품과 아두이노, 전원부를 담는 케이스를 설계하고 제작하였습니다. 3t 아크릴을 커팅하여 제작하였습니다.</p><p><br /></p><h3 id="37-전자-회로-완성">3.7 전자 회로 완성 <a href="#37-전자-회로-완성" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p><img data-src="/assets/img/3D_scanner/Fig_5.png" alt="3D_scanner_circuit_diagram" width="80%" data-proofer-ignore> <em>3D scanner circuit diagram</em></p><p><img data-src="/assets/img/3D_scanner/Fig_6.png" alt="3D_scanner_electric_device_system" width="80%" data-proofer-ignore> <em>3D scanner electric device system</em></p><div class="table-wrapper"><table><thead><tr><th>Arduino UNO pin<th>Electric device<tbody><tr><td>D2, D3<td>Rotary encoder(encoder)<tr><td>D4, D5, D6, D7<td>L298n motor driver<tr><td>D8, D9<td>A4988 motor drivier<tr><td>D10, D11, D12, D13<td>SD card reader<tr><td>A0<td>Rotary encoder(button)<tr><td>A1<td>IR distance sensor<tr><td>A2<td>Limit SW<tr><td>A4, A5<td>LCD I2C module</table></div><h4 id="371-아두이노-uno">3.7.1 아두이노 UNO <a href="#371-아두이노-uno" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><ul><li>USB type-B 포트를 통해 PC와 시리얼 통신을 수행합니다.<li>SMPS의 12V 소스를 전원으로 작동합니다.<li>몰렉스 커넥터와 A4988 모터 드라이버 전용 핀헤더 소켓을 납땜한 proto-shield를 장착하였습니다.</ul><h4 id="372-전원부">3.7.2 전원부 <a href="#372-전원부" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><ul><li>220V IEC power cable을 꽂을 수 있는 connector와 전원 스위치, 5W 퓨즈로 구성되어 있습니다.<li>Power connector는 SMPS의 220V AC 전원 입력부와 연결되며, SMPS의 12V 출력은 아두이노 UNO와 A4988, L298n 모터 드라이버에 인가됩니다.</ul><h4 id="373-rotary-encoder">3.7.3 Rotary encoder <a href="#373-rotary-encoder" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><ul><li>사용자가 3D scanner를 제어할 수 있도록 입력 장치 역할을 수행합니다.<li>시계, 반시계 방향으로 encoder를 돌리는 입력과 버튼을 클릭하는 입력을 받을 수 있습니다.<li>아두이노 UNO에 배정되어있는 인터럽트 핀(D2, D3)을 사용하여 encoder 입력을 즉각적으로 처리할 수 있도록 하였습니다.<li>남은 디지털 핀이 없어, 버튼 입력은 A0 핀에 할당하였습니다. 별도의 pull-up 회로를 꾸미지 않았고, 아두이노 내부 pull-up 저항을 사용하였습니다.</ul><h4 id="374-l298n-motor-driver--z-dir-stepper-motor">3.7.4 L298n motor driver &amp; z-dir stepper motor <a href="#374-l298n-motor-driver--z-dir-stepper-motor" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><ul><li>z-방향 stepper motor를 제어하기 위해 L298n 모터 드라이버를 사용하였습니다.<li>4개의 디지털 핀 D4, D5, D6, D7을 사용하여 모터 드라이버에 입력 신호를 인가합니다.</ul><h4 id="375-a4988-motor-driver--θ-dir-stepper-motor">3.7.5 A4988 motor driver &amp; θ-dir stepper motor <a href="#375-a4988-motor-driver--θ-dir-stepper-motor" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><ul><li>A4988 모터 드라이버를 16 분주 모드로 사용하여 스텝 모터가 속도는 느리지만 큰 토크를 낼 수 있도록 하였습니다.<li>2개의 디지털 핀 D8, D9를 사용합니다. 하나는 모터의 회전 방향을 HIGH, LOW로 조절하고, 하나는 PWM의 duration을 조절하여 모터의 회전 속도를 조절합니다.</ul><h4 id="376-sd-card-reader">3.7.6 SD card reader <a href="#376-sd-card-reader" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><ul><li>3D 스캔 결과인 pointcloud 파일을 SD 카드에 저장합니다.<li>아두이노 UNO에 배정되어있는 SPI 통신 핀(D10-Chip Select, D11-MOSI, D12-MISO, D13-SCK)을 사용하였습니다.</ul><h4 id="377-ir-distance-sensor">3.7.7 IR distance sensor <a href="#377-ir-distance-sensor" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><ul><li>Sharp 사의 GP2Y0A21YK0F IR 거리 센서를 사용하였습니다.<li>거리 센서 carriage에서 물체의 표면까지의 거리를 측정하여 원통 좌표계에서의 r 값을 산출합니다.<li>0~5V 사이의 전압을 출력하는 아날로그 센서 값을 읽기 위해 ADC(Analog to Digital Converter)가 내장되어있는 A1핀에 할당하였습니다.</ul><h4 id="378-limit-sw">3.7.8 Limit SW <a href="#378-limit-sw" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><ul><li>거리 센서 carriage가 프로파일 프레임에 닿는지 여부를 판단하는 역할을 수행합니다.<li>자체 회로에 pull-up 저항이 존재합니다.<li>남은 디지털 핀이 없어 A2 핀에 할당하였지만, 디지털 입력으로 받습니다.</ul><h4 id="379-lcd-i2c-module">3.7.9 LCD I2C module <a href="#379-lcd-i2c-module" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><ul><li>16×2 사이즈의 display를 사용하여 사용자가 3D 스캐너 상태를 파악할 수 있도록 합니다.<li>가용할 수 있는 핀이 부족하여 I2C 모듈이 장착된 LCD를 사용하였습니다.<li>아두이노 UNO에 배정되어있는 I2C 통신 핀(A4-SCL, A5-SDA)을 사용하였습니다.</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/making/'>Making</a>, <a href='/categories/3d-scanner/'>3D scanner</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/3d-scanner/" class="post-tag no-text-decoration" >3D scanner</a> <a href="/tags/electric-device/" class="post-tag no-text-decoration" >electric device</a> <a href="/tags/solidworks/" class="post-tag no-text-decoration" >Solidworks</a> <a href="/tags/arduino/" class="post-tag no-text-decoration" >arduino</a> <a href="/tags/ir/" class="post-tag no-text-decoration" >IR</a> <a href="/tags/stepper-motor/" class="post-tag no-text-decoration" >stepper motor</a> <a href="/tags/motor-driver/" class="post-tag no-text-decoration" >motor driver</a> <a href="/tags/a4988/" class="post-tag no-text-decoration" >A4988</a> <a href="/tags/l298n/" class="post-tag no-text-decoration" >L298n</a> <a href="/tags/sd-card/" class="post-tag no-text-decoration" >SD card</a> <a href="/tags/rotary-encoder/" class="post-tag no-text-decoration" >rotary encoder</a> <a href="/tags/lcd/" class="post-tag no-text-decoration" >lcd</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[3D scanner] 3D scanner 제작기 - 2 - Isomorphism!&url=https://isornorphism.github.io/posts/3D_scanner_2/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[3D scanner] 3D scanner 제작기 - 2 - Isomorphism!&u=https://isornorphism.github.io/posts/3D_scanner_2/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://isornorphism.github.io/posts/3D_scanner_2/&text=[3D scanner] 3D scanner 제작기 - 2 - Isomorphism!" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/IR_light_2/">[IR light] 전등 리모컨 제작기 - 2</a><li><a href="/posts/IR_light_3/">[IR light] 전등 리모컨 제작기 - 3</a><li><a href="/posts/IR_light_1/">[IR light] 전등 리모컨 제작기 - 1</a><li><a href="/posts/3D_scanner_4/">[3D scanner] 3D scanner 제작기 - 4</a><li><a href="/posts/3D_scanner_3/">[3D scanner] 3D scanner 제작기 - 3</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/3d-scanner/">3D scanner</a> <a class="post-tag" href="/tags/ir-light/">IR light</a> <a class="post-tag" href="/tags/solidworks/">Solidworks</a> <a class="post-tag" href="/tags/discriminator/">discriminator</a> <a class="post-tag" href="/tags/exponential/">exponential</a> <a class="post-tag" href="/tags/gan/">gan</a> <a class="post-tag" href="/tags/generative-model/">generative model</a> <a class="post-tag" href="/tags/generator/">generator</a> <a class="post-tag" href="/tags/hardware/">hardware</a> <a class="post-tag" href="/tags/levenberg/">Levenberg</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/3D_scanner_1/"><div class="card-body"> <em class="timeago small" date="2023-04-07 00:00:00 +0900" >Apr 7</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[3D scanner] 3D scanner 제작기 - 1</h3><div class="text-muted small"><p> 6월에 군대 입대가 예정되어있어 휴학 중에 있습니다. 며칠 동안은 자유를 만끽했지만 이내 몸이 근질거리더라고요. 무슨 일을 벌일까 고민을 하다가, 저를 기계공학부로 오도록 만들어준 making을 오랜만에 해보기로 했습니다. 초, 중학교 때 취미 삼아서 과학상자, 아두이노 등을 많이 하면서 기계/로봇공학자가 되고 싶다라고 꿈을 꿔왔거든요. 이번...</p></div></div></a></div><div class="card"> <a href="/posts/3D_scanner_4/"><div class="card-body"> <em class="timeago small" date="2023-04-12 00:00:00 +0900" >Apr 12</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[3D scanner] 3D scanner 제작기 - 4</h3><div class="text-muted small"><p> 관련 포스팅 [3D scanner] 3D scanner 제작기 - 1 [3D scanner] 3D scanner 제작기 - 2 [3D scanner] 3D scanner 제작기 - 3 5. 결과 5.1 전체 시스템 소개 3D scanner image 3D scanner operating diagra...</p></div></div></a></div><div class="card"> <a href="/posts/3D_scanner_3/"><div class="card-body"> <em class="timeago small" date="2023-04-09 00:00:00 +0900" >Apr 9</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[3D scanner] 3D scanner 제작기 - 3</h3><div class="text-muted small"><p> 관련 포스팅 [3D scanner] 3D scanner 제작기 - 1 [3D scanner] 3D scanner 제작기 - 2 4. 소프트웨어 개발 과정 4.1 문제점 및 해결 과정 소프트웨어 개발 중 맞닥뜨린 문제점과 그 해결 과정을 위주로 서술하였습니다. 4.1.1 IR 거리 센서와 레이저 TOF 거리 센...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/3D_scanner_1/" class="btn btn-outline-primary" prompt="Older"><p>[3D scanner] 3D scanner 제작기 - 1</p></a> <a href="/posts/3D_scanner_3/" class="btn btn-outline-primary" prompt="Newer"><p>[3D scanner] 3D scanner 제작기 - 3</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/Isornorphism">Gwanhyeong Song</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/3d-scanner/">3D scanner</a> <a class="post-tag" href="/tags/ir-light/">IR light</a> <a class="post-tag" href="/tags/solidworks/">Solidworks</a> <a class="post-tag" href="/tags/discriminator/">discriminator</a> <a class="post-tag" href="/tags/exponential/">exponential</a> <a class="post-tag" href="/tags/gan/">gan</a> <a class="post-tag" href="/tags/generative-model/">generative model</a> <a class="post-tag" href="/tags/generator/">generator</a> <a class="post-tag" href="/tags/hardware/">hardware</a> <a class="post-tag" href="/tags/levenberg/">Levenberg</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script>
